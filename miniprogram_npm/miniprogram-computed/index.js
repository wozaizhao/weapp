var T=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var H=T(g=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.parseMultiDataPaths=g.getDataOnPath=void 0;var B=/^\s/,w=function(e,t){throw new Error('Parsing data path "'+e+'" failed at char "'+e[t]+'" (index '+t+")")},ee=function(e,t){for(var r=t.index;t.index<t.length;){var i=e[t.index];if(/^[0-9]/.test(i)){t.index++;continue}break}return r===t.index&&w(e,t.index),parseInt(e.slice(r,t.index),10)},N=function(e,t){var r=t.index,i=e[r];if(/^[_a-zA-Z$]/.test(i))for(t.index++;t.index<t.length;){var p=e[t.index];if(/^[_a-zA-Z0-9$]/.test(p)){t.index++;continue}break}else w(e,t.index);return e.slice(r,t.index)},z=function(e,t){for(var r=[N(e,t)],i={deepCmp:!1};t.index<t.length;){var p=e[t.index];if(p==="[")t.index++,r.push("".concat(ee(e,t))),e[t.index]!=="]"&&w(e,t.index),t.index++;else if(p==="."){if(t.index++,e[t.index]==="*"){if(t.index++,e[t.index]==="*"){t.index++,i.deepCmp=!0;break}w(e,t.index)}r.push(N(e,t))}else break}return{path:r,options:i}},te=function(e,t){for(;B.test(e[t.index]);)t.index++;for(var r=[z(e,t)],i=!1;t.index<t.length;){var p=e[t.index];B.test(p)?t.index++:p===","?(i=!0,t.index++):i?(i=!1,r.push(z(e,t))):w(e,t.index)}return r},re=function(e,t){t.index<t.length&&w(e,t.index)},ne=function(e){var t={length:e.length,index:0},r=te(e,t);return re(e,t),r};g.parseMultiDataPaths=ne;var oe=function(e,t){var r=e;return t.forEach(function(i){r=typeof r!="object"||r===null?void 0:r[i]}),r};g.getDataOnPath=oe});var G=T((Pe,$)=>{$.exports=function(){let t=null,r;function i(n){return n?typeof n=="object"||typeof n=="function":!1}function p(n){if(n!==null&&!i(n))throw new TypeError("Object prototype may only be an Object or null: "+n)}let o=Object,l=Boolean(o.create)||!({__proto__:null}instanceof o),c=o.create||(l?function(a){return p(a),{__proto__:a}}:function(a){if(p(a),a===null)throw new SyntaxError("Native Object.create is required to create objects with null prototype");var v=function(){};return v.prototype=a,new v}),d=function(){return null},_=o.getPrototypeOf||([].__proto__===Array.prototype?function(a){let v=a.__proto__;return i(v)?v:null}:d);return r=function(n,a){if((this&&this instanceof r?this.constructor:void 0)===void 0)throw new TypeError("Constructor Proxy requires 'new'");if(!i(n)||!i(a))throw new TypeError("Cannot create proxy with a non-object as target or handler");let y=function(){};t=function(){n=null,y=function(u){throw new TypeError(`Cannot perform '${u}' on a proxy that has been revoked`)}},setTimeout(function(){t=null},0);let h=a;a={get:null,set:null,apply:null,construct:null};for(let u in h){if(!(u in a))throw new TypeError(`Proxy polyfill does not support trap '${u}'`);a[u]=h[u]}typeof h=="function"&&(a.apply=h.apply.bind(h));let f=_(n),s,x=!1,j=!1;typeof n=="function"?(s=function(){let b=this&&this.constructor===s,P=Array.prototype.slice.call(arguments);if(y(b?"construct":"apply"),b&&a.construct)return a.construct.call(this,n,P);if(!b&&a.apply)return a.apply(n,this,P);if(b){P.unshift(n);let M=n.bind.apply(n,P);return new M}return n.apply(this,P)},x=!0):n instanceof Array?(s=[],j=!0):s=l||f!==null?c(f):{};let C=a.get?function(u){return y("get"),a.get(this,u,s)}:function(u){return y("get"),this[u]},F=a.set?function(u,b){y("set");let P=a.set(this,u,b,s)}:function(u,b){y("set"),this[u]=b},R=o.getOwnPropertyNames(n),A={};R.forEach(function(u){if((x||j)&&u in s)return;let b=o.getOwnPropertyDescriptor(n,u),P={enumerable:Boolean(b.enumerable),get:C.bind(n,u),set:F.bind(n,u)};o.defineProperty(s,u,P),A[u]=!0});let D=!0;if(x||j){let u=o.setPrototypeOf||([].__proto__===Array.prototype?function(P,M){return p(M),P.__proto__=M,P}:d);f&&u(s,f)||(D=!1)}if(a.get||!D)for(let u in n)A[u]||o.defineProperty(s,u,{get:C.bind(n,u)});return o.seal(n),o.seal(s),s},r.revocable=function(n,a){return{proxy:new r(n,a),revoke:t}},r}});var X=T(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.create=ce,E.unwrap=q;var ae=ie(G());function ie(e){return e&&e.__esModule?e:{default:e}}var ue=ae.default(),U=function(e,t,r){if(typeof e!="object"||e===null)return e;var i,p={get:function(o,l){if(l==="__rawObject__")return o;var c=r.concat(l),d=o[l];return t.push({path:c,value:d}),U(d,t,c)}};try{i=new Proxy(e,p)}catch(o){i=new ue(e,p)}return i};function ce(e,t){return U(e,t,[])}function q(e){if(typeof e.__rawObject__!="object"&&typeof e=="object"&&e!==null){if(Array.isArray(e))return e.map(function(r){return q(r)});var t={};return Object.keys(e).forEach(function(r){t[r]=q(e[r])}),t}return typeof e!="object"||e===null||typeof e.__rawObject__!="object"?e:e.__rawObject__}});var Z=T(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.behavior=void 0;var K,se=J(require("rfdc")),fe=J(require("fast-deep-equal")),m=S(H()),k=S(X());function Y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};i.get||i.set?Object.defineProperty(t,r,i):t[r]=e[r]}}return t.default=e,t}var L=se.default({proto:!0}),pe=0,le=Behavior({lifetimes:{attached:function(){this.setData({_computedWatchInit:"attached"})},created:function(){this.setData({_computedWatchInit:"created"})}},definitionFilter:function(e){var t=e.computed,r=e.watch,i=[],p=pe++;i.push({fields:"_computedWatchInit",observer:function(){var o=this.data._computedWatchInit;if(o==="created"){var l={computedUpdaters:[],computedRelatedPathValues:{},watchCurVal:{},_triggerFromComputedAttached:{}};this._computedWatchInfo||(this._computedWatchInfo={}),this._computedWatchInfo[p]=l,r&&Object.keys(r).forEach(function(d){var _=m.parseMultiDataPaths(d).map(function(n){var a=n.path,v=n.options,y=m.getDataOnPath(this.data,a);return v.deepCmp?L(y):y}.bind(this));l.watchCurVal[d]=_}.bind(this))}else if(o==="attached"){var c=this._computedWatchInfo[p];t&&Object.keys(t).forEach(function(d){var _=t[d],n=[],a=_(k.create(this.data,n)),v=n.map(function(h){var f=h.path;return{path:f,value:m.getDataOnPath(this.data,f)}}.bind(this));this.setData(Y({},d,k.unwrap(a))),c._triggerFromComputedAttached[d]=!0,c.computedRelatedPathValues[d]=v;var y=function(){for(var h=c.computedRelatedPathValues[d],f=!1,s=0;s<h.length;s++){var x=h[s],j=x.path;if(x.value!==m.getDataOnPath(this.data,j)){f=!0;break}}if(!f)return!1;var C=[],F=_(k.create(this.data,C));this.setData(Y({},d,k.unwrap(F)));var R=C.map(function(A){var D=A.path;return{path:D,value:m.getDataOnPath(this.data,D)}}.bind(this));return c.computedRelatedPathValues[d]=R,!0}.bind(this);c.computedUpdaters.push(y)}.bind(this))}}}),t&&i.push({fields:"**",observer:function(){if(this._computedWatchInfo){var o,l=this._computedWatchInfo[p];if(l)do o=l.computedUpdaters.some(function(c){return c.call(this)}.bind(this));while(o)}}}),r&&Object.keys(r).forEach(function(o){var l=m.parseMultiDataPaths(o);i.push({fields:o,observer:function(){if(this._computedWatchInfo){var c=this._computedWatchInfo[p];if(c){if(Object.keys(c._triggerFromComputedAttached).length){var d={};for(var _ in l.forEach(function(f){return d[f.path[0]]=!0}),c._triggerFromComputedAttached)if(c._triggerFromComputedAttached.hasOwnProperty(_)&&d[_]&&c._triggerFromComputedAttached[_])return void(c._triggerFromComputedAttached[_]=!1)}var n=c.watchCurVal[o],a=l.map(function(f){var s=f.path,x=f.options;return{val:m.getDataOnPath(this.data,s),options:x}}.bind(this)),v=a.map(function(f){var s=f.val;return f.options.deepCmp?L(s):s});c.watchCurVal[o]=v;for(var y=!1,h=0;h<v.length;h++)if(l[h].options.deepCmp?!fe.default(n[h],v[h]):n[h]!==v[h]){y=!0;break}y&&r[o].apply(this,a.map(function(f){return f.val}))}}}})}),typeof e.observers!="object"&&(e.observers={}),Array.isArray(e.observers)?(K=e.observers).push.apply(K,i):i.forEach(function(o){var l=e.observers[o.fields];l?e.observers[o.fields]=function(){o.observer.call(this),l.call(this)}:e.observers[o.fields]=o.observer})}});I.behavior=le});"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"behavior",{enumerable:!0,get:function(){return V.behavior}}),exports.ComponentWithComputed=de,exports.BehaviorWithComputed=he,exports.DataTracerMode=exports.setCurrentDataTracerMode=exports.getCurrentDataTracerMode=void 0;var O,W,V=Z();function de(e){return Array.isArray(e.behaviors)||(e.behaviors=[]),e.behaviors.unshift(V.behavior),Component(e)}function he(e){return Array.isArray(e.behaviors)||(e.behaviors=[]),e.behaviors.unshift(V.behavior),Behavior(e)}exports.DataTracerMode=W,(O=W||(exports.DataTracerMode=W={}))[O.Auto=0]="Auto",O[O.Proxy=1]="Proxy",O[O.DefineProperty=2]="DefineProperty";var Q=W.Auto,ve=function(){return Q};exports.getCurrentDataTracerMode=ve;var ye=function(e){Q=e};exports.setCurrentDataTracerMode=ye;
